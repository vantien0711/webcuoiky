<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Thiết bị y tế - PharmaCare</title>
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="css/product-styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="header-top">
        <div class="container">
          <div style="display: flex; justify-content: space-between; align-items: center;">
            <span><i class="fas fa-phone"></i> Hotline: 1900-1234 | <i class="fas fa-envelope"></i> support@pharmacare.vn</span>
            <span><i class="fas fa-truck"></i> Miễn phí giao hàng đơn từ 300.000đ</span>
          </div>
        </div>
      </div>
      <div class="container">
        <div class="header-content">
          <div class="logo">
            <a href="index.html">
              <i class="fas fa-pills"></i>
              PharmaCare
            </a>
          </div>
          <div class="search-bar">
            <input type="text" placeholder="Tìm kiếm thuốc, thực phẩm chức năng..." id="searchInput" />
            <button class="search-btn" onclick="searchProducts()">
              <i class="fas fa-search"></i>
            </button>
          </div>
          <div class="header-actions">
            <div class="user-icon" onclick="openLoginModal()">
              <i class="fas fa-user-circle"></i>
              <span class="user-text" id="userText">Đăng nhập</span>
            </div>
            <div class="cart-icon" onclick="openCart()">
              <i class="fas fa-shopping-cart"></i>
              <span class="cart-count" id="cartCount">0</span>
            </div>
          </div>
        </div>
      </div>
      <nav class="nav">
        <div class="container">
          <ul class="nav-menu">
            <li><a href="index.html"><i class="fas fa-home"></i> Trang chủ</a></li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle"><i class="fas fa-pills"></i> Sản phẩm</a>
              <ul class="dropdown-menu">
                <li><a href="thuoc.html">Thuốc</a></li>
                <li><a href="vitamin.html">Vitamin & Thực phẩm chức năng</a></li>
                <li><a href="cham-soc-da.html">Chăm sóc da</a></li>
                <li><a href="thiet-bi-y-te.html">Thiết bị y tế</a></li>
                <li><a href="tre-em.html">Sản phẩm trẻ em</a></li>
              </ul>
            </li>
            <li><a href="promotion.html"><i class="fas fa-tags"></i> Khuyến mãi</a></li>
            <li><a href="contact.html"><i class="fas fa-phone"></i> Liên hệ</a></li>
          </ul>
        </div>
      </nav>
    </header>

    <!-- Main Content -->
    <main class="main-content">
      <div class="container">
        <!-- Breadcrumb -->
        <div class="breadcrumb">
          <a href="index.html">Trang chủ</a>
          <span>/</span>
          <span>Thiết bị y tế</span>
        </div>

        <!-- Page Header -->
        <div class="page-header">
          <h1>Thiết bị y tế</h1>
          <p>
            Các thiết bị y tế gia đình, máy đo huyết áp, máy đo đường huyết,
            nhiệt kế và các thiết bị theo dõi sức khỏe
          </p>
        </div>

        <!-- Filters and Products -->
        <div class="products-section">
          <div class="products-layout">
            <!-- Sidebar Filters -->
            <aside class="products-sidebar">
              <div class="filter-title">
                <i class="fas fa-filter"></i>
                Bộ lọc nâng cao
              </div>
              <div class="filter-group">
                <h3 class="filter-group-title">
                  <i class="fas fa-list"></i>
                  Danh mục
                </h3>
                <div class="filter-options">
                  <label class="filter-option">
                    <input type="checkbox" name="category" value="all" checked />
                    <span>Tất cả thiết bị</span>
                  </label>
                  <label class="filter-option">
                    <input
                      type="checkbox"
                      name="category"
                      value="blood-pressure"
                    />
                    <span>Máy đo huyết áp</span>
                  </label>
                  <label class="filter-option">
                    <input type="checkbox" name="category" value="glucose" />
                    <span>Máy đo đường huyết</span>
                  </label>
                  <label class="filter-option">
                    <input type="checkbox" name="category" value="thermometer" />
                    <span>Nhiệt kế</span>
                  </label>
                  <label class="filter-option">
                    <input
                      type="checkbox"
                      name="category"
                      value="pulse-oximeter"
                    />
                    <span>Máy đo SpO2</span>
                  </label>
                  <label class="filter-option">
                    <input type="checkbox" name="category" value="nebulizer" />
                    <span>Máy xông mũi họng</span>
                  </label>
                  <label class="filter-option">
                    <input type="checkbox" name="category" value="massager" />
                    <span>Máy massage</span>
                  </label>
                </div>
              </div>
              <div class="filter-group">
                <h3 class="filter-group-title">
                  <i class="fas fa-tags"></i>
                  Thương hiệu
                </h3>
                <div class="filter-options">
                  <label class="filter-option">
                    <input type="checkbox" name="brand" value="omron" />
                    <span class="option-text">Omron</span>
                  </label>
                  <label class="filter-option">
                    <input type="checkbox" name="brand" value="microlife" />
                    <span class="option-text">Microlife</span>
                  </label>
                  <label class="filter-option">
                    <input type="checkbox" name="brand" value="beurer" />
                    <span class="option-text">Beurer</span>
                  </label>
                  <label class="filter-option">
                    <input type="checkbox" name="brand" value="medisana" />
                    <span class="option-text">Medisana</span>
                  </label>
                </div>
              </div>
              <div class="filter-group">
                <h3 class="filter-group-title">
                  <i class="fas fa-tag"></i>
                  Giá bán
                </h3>
                <div class="filter-options">
                  <label class="filter-option">
                    <input type="radio" name="price" value="0-500000" />
                    <span>Dưới 500.000₫</span>
                  </label>
                  <label class="filter-option">
                    <input type="radio" name="price" value="500000-1000000" />
                    <span>500.000₫ đến 1.000.000₫</span>
                  </label>
                  <label class="filter-option">
                    <input type="radio" name="price" value="1000000-2000000" />
                    <span>1.000.000₫ đến 2.000.000₫</span>
                  </label>
                  <label class="filter-option">
                    <input type="radio" name="price" value="2000000-999999999" />
                    <span>Trên 2.000.000₫</span>
                  </label>
                </div>
              </div>
              <div class="filter-group">
                <h3 class="filter-group-title">
                  <i class="fas fa-star"></i>
                  Đánh giá
                </h3>
                <div class="filter-options">
                  <label class="filter-option">
                    <input type="radio" name="rating" value="4" />
                    <span class="stars">
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="far fa-star"></i>
                    </span>
                    <span class="option-text">4 sao trở lên</span>
                  </label>
                  <label class="filter-option">
                    <input type="radio" name="rating" value="3" />
                    <span class="stars">
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="far fa-star"></i>
                      <i class="far fa-star"></i>
                    </span>
                    <span class="option-text">3 sao trở lên</span>
                  </label>
                </div>
              </div>
              <button class="clear-filters-btn" onclick="clearAllFilters()">
                <i class="fas fa-times"></i>
                Xóa tất cả bộ lọc
              </button>
            </aside>
            <!-- Products Main -->
            <main class="products-main">
              <!-- Header Note -->
              <div class="header-note">
                <i class="fas fa-exclamation-triangle"></i>
                <span>Lưu ý: Thuốc kê đơn và một số sản phẩm sẽ cần tư vấn từ dược sĩ</span>
              </div>
              <!-- Products Header -->
              <div class="products-header">
                <div>
                  <h2 class="products-title">Danh sách sản phẩm</h2>
                  <div class="products-count">
                    Hiển thị <span id="currentCount">0</span> trong tổng số
                    <span id="totalCount">0</span> sản phẩm
                  </div>
                </div>
                <div class="products-controls">
                  <div class="sort-controls">
                    <span class="sort-label">Sắp xếp theo:</span>
                    <div class="sort-options">
                      <button class="sort-option active" data-sort="bestseller">Bán chạy</button>
                      <button class="sort-option" data-sort="price-low">Giá thấp</button>
                      <button class="sort-option" data-sort="price-high">Giá cao</button>
                    </div>
                  </div>
                  <div class="view-controls">
                    <button class="view-btn active" data-view="grid"><i class="fas fa-th"></i></button>
                    <button class="view-btn" data-view="list"><i class="fas fa-list"></i></button>
                  </div>
                </div>
              </div>
              <!-- Active Filters -->
              <div class="active-filters" id="activeFilters"></div>
              <!-- Products Grid -->
              <div class="products-grid" id="productsGrid">
                <!-- Products will be loaded here -->
              </div>
              <!-- Pagination will be dynamically added here -->
            </main>
          </div>
        </div>

          <!-- Wishlist Panel -->
          <div class="wishlist-panel" id="wishlistPanel">
            <div class="panel-header">
              <h3>Danh sách yêu thích</h3>
              <button onclick="toggleWishlistPanel()">
                <i class="fas fa-times"></i>
              </button>
            </div>
            <div class="panel-content" id="wishlistItems">
              <!-- Wishlist items will be loaded here -->
            </div>
          </div>

          <!-- Cart Panel -->
          <div class="cart-panel" id="cart-panel">
            <div class="panel-header">
              <h3>Giỏ hàng</h3>
              <button onclick="closeCart()">
                <i class="fas fa-times"></i>
              </button>
            </div>
            <div class="panel-content" id="cart-content">
              <!-- Cart items will be loaded here -->
            </div>
          </div>

          <!-- Quick View Modal -->
          <div class="modal" id="quick-view-modal">
            <div class="modal-content">
              <div class="modal-header">
                <h3>Xem nhanh sản phẩm</h3>
                <button onclick="closeModal('quick-view-modal')">
                  <i class="fas fa-times"></i>
                </button>
              </div>
              <div class="modal-body" id="quick-view-body">
                <!-- Quick view content will be loaded here -->
              </div>
            </div>
          </div>

          <!-- Checkout Modal -->
          <div class="modal" id="checkout-modal">
            <div class="modal-content">
              <div class="modal-header">
                <h3>Thanh toán</h3>
                <button onclick="closeModal('checkout-modal')">
                  <i class="fas fa-times"></i>
                </button>
              </div>
              <div class="modal-body" id="checkout-modal-content">
                <!-- Checkout content will be loaded here -->
              </div>
            </div>
          </div>

          <!-- Chat Icon -->
          <div class="chat-icon" id="chat-icon">
            <i class="fas fa-comments"></i>
          </div>

          <!-- Chat Modal -->
          <div class="modal" id="chat-modal">
            <div class="modal-content chat-modal">
              <div class="modal-header">
                <h3>Chat với dược sĩ</h3>
                <button onclick="closeModal('chat-modal')">
                  <i class="fas fa-times"></i>
                </button>
              </div>
              <div class="modal-body">
                <div class="chat-messages" id="chat-messages">
                  <!-- Chat messages will be loaded here -->
                </div>
                <div class="chat-input">
                  <input
                    type="text"
                    id="chat-message-input"
                    placeholder="Nhập tin nhắn..."
                  />
                  <button id="send-chat-message">
                    <i class="fas fa-paper-plane"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Footer -->
          <footer class="footer">
            <div class="container">
              <div class="footer-content">
                <div class="footer-section">
                  <h3><a href="index.html">PharmaCare</a></h3>
                  <p>
                    Nhà thuốc trực tuyến uy tín, cung cấp các sản phẩm chăm sóc
                    sức khỏe chất lượng cao.
                  </p>
                  <div class="social-links">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-youtube"></i></a>
                  </div>
                </div>
                <div class="footer-section">
                  <h4>Danh mục sản phẩm</h4>
                  <ul>
                    <li><a href="thuoc.html">Thuốc</a></li>
                    <li>
                      <a href="vitamin.html">Vitamin & Thực phẩm chức năng</a>
                    </li>
                    <li><a href="cham-soc-da.html">Chăm sóc da</a></li>
                    <li><a href="thiet-bi-y-te.html">Thiết bị y tế</a></li>
                    <li><a href="tre-em.html">Sản phẩm trẻ em</a></li>
                  </ul>
                </div>
                <div class="footer-section">
                  <h4>Hỗ trợ khách hàng</h4>
                  <ul>
                    <li><a href="#">Hướng dẫn mua hàng</a></li>
                    <li><a href="#">Chính sách đổi trả</a></li>
                    <li><a href="#">Chính sách bảo mật</a></li>
                    <li><a href="#">Điều khoản sử dụng</a></li>
                    <li><a href="contact.html">Liên hệ</a></li>
                  </ul>
                </div>
                <div class="footer-section">
                  <h4>Thông tin liên hệ</h4>
                  <p>
                    <i class="fas fa-map-marker-alt"></i> 123 Đường ABC, Quận 1,
                    TP.HCM
                  </p>
                  <p><i class="fas fa-phone"></i> 1900-1234</p>
                  <p><i class="fas fa-envelope"></i> info@pharmacare.vn</p>
                </div>
              </div>
              <div class="footer-bottom">
                <p>&copy; 2024 PharmaCare. Tất cả quyền được bảo lưu.</p>
              </div>
            </div>
          </footer>

          <!-- Scripts -->
          <script src="js/database.js"></script>
          <script src="api/database-api.js"></script>
          <script src="js/auth.js"></script>
          <script src="js/product-script.js"></script>
          <script>
            // Initialize page with medical devices category
            document.addEventListener("DOMContentLoaded", async function () {
              // Set category filter to medical devices
              const medicalDevicesCheckbox = document.querySelector(
                'input[name="category"][value="all"]'
              );
              if (medicalDevicesCheckbox) {
                medicalDevicesCheckbox.checked = true;
              }

              // Apply medical devices filter
              await applyFilters();
            });
          </script>
        </div>
      </div>
    </main>
    <!-- Modal Đăng nhập -->
    <div class="modal" id="login-modal" style="display:none;">
      <div class="modal-content">
        <span class="close" onclick="closeLoginModal()">&times;</span>
        <h2>Đăng nhập</h2>
        <form id="loginForm" onsubmit="return handleLogin(event)">
          <label for="loginEmail">Email</label>
          <input type="email" id="loginEmail" required placeholder="Nhập email...">
          <label for="loginPassword">Mật khẩu</label>
          <input type="password" id="loginPassword" required placeholder="Nhập mật khẩu...">
          <button type="submit">Đăng nhập</button>
        </form>
        <p style="margin-top:12px; text-align:center;">
          Chưa có tài khoản? <a href="#" onclick="switchToRegister()">Đăng ký</a>
        </p>
      </div>
    </div>
    <!-- Modal Đăng ký -->
    <div class="modal" id="register-modal" style="display:none;">
      <div class="modal-content">
        <span class="close" onclick="closeRegisterModal()">&times;</span>
        <h2>Đăng ký</h2>
        <form id="registerForm" onsubmit="return handleRegister(event)">
          <label for="registerName">Họ tên</label>
          <input type="text" id="registerName" required placeholder="Nhập họ tên...">
          <label for="registerEmail">Email</label>
          <input type="email" id="registerEmail" required placeholder="Nhập email...">
          <label for="registerUsername">Tên đăng nhập</label>
          <input type="text" id="registerUsername" required placeholder="Nhập tên đăng nhập...">
          <label for="registerPassword">Mật khẩu</label>
          <input type="password" id="registerPassword" required placeholder="Tạo mật khẩu...">
          <label for="registerConfirm">Xác nhận mật khẩu</label>
          <input type="password" id="registerConfirm" required placeholder="Nhập lại mật khẩu...">
          <button type="submit">Đăng ký</button>
        </form>
        <p style="margin-top:12px; text-align:center;">
          Đã có tài khoản? <a href="#" onclick="switchToLogin()">Đăng nhập</a>
        </p>
      </div>
    </div>
    <!-- Cart Modal -->
    <div class="modal" id="cart-modal" style="display:none;">
      <div class="modal-content">
        <div class="modal-header">
          <h3><i class="fas fa-shopping-cart"></i> Giỏ hàng</h3>
          <button onclick="closeCartModal()">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body">
          <div id="cart-items">
            <!-- Cart items will be loaded here -->
          </div>
          <div class="cart-total">
            <h4>Tổng cộng: <span id="cart-total">0đ</span></h4>
          </div>
          <div class="cart-actions">
            <button onclick="closeCartModal()" class="btn-secondary">Tiếp tục mua</button>
            <button onclick="checkout()" class="btn-primary">Thanh toán</button>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
